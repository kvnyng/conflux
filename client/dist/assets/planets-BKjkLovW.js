import{S as M,P as S,W as O,B as C,a as N,T as R,C as b,c as _,b as G,M as H,d as P,e as X,D as Y,A as D}from"./three.module-DaOiP1Qo.js";import{S as F,O as z,G as U}from"./dat.gui.module-D-xaz02A.js";const V="http://api.cosmicimprint.org",W=V+"/planet/stl/latest",c=new M,s=new S(75,window.innerWidth/window.innerHeight,.1,1e3),d=new O({antialias:!0});d.setSize(window.innerWidth,window.innerHeight);document.body.appendChild(d.domElement);window.addEventListener("resize",()=>{s.aspect=window.innerWidth/window.innerHeight,s.updateProjectionMatrix(),d.setSize(window.innerWidth,window.innerHeight),updateFloatingTextPositions()});const T=new C,$=new N({size:2.5,vertexColors:!0,sizeAttenuation:!0,map:new R().load("https://threejs.org/examples/textures/sprites/circle.png"),alphaTest:.5,transparent:!0}),m=2e5,w=new Float32Array(m*3),h=new Float32Array(m*3),B=new Float32Array(m);for(let t=0;t<m;t++){w[t*3]=(Math.random()-.5)*3e3,w[t*3+1]=(Math.random()-.5)*3e3,w[t*3+2]=(Math.random()-.5)*3e3;const n=new b(255,255,255);h[t*3]=n.r,h[t*3+1]=n.g,h[t*3+2]=n.b,B[t]=1}T.setAttribute("position",new _(w,3));T.setAttribute("color",new _(h,3));const j=new G(T,$);c.add(j);const v=new F;let e,i,x=!1,a={x:0,y:0},r={x:0,y:0};const k=20,Z=-50,q=60,J=150;fetch(W).then(t=>{if(!t.ok)throw new Error(`Failed to fetch STL file: ${t.statusText}`);return t.blob()}).then(t=>{const n=URL.createObjectURL(t);v.load(n,function(o){const u=new H({color:16777215,roughness:.5,metalness:.2});e=new P(o,u),e.rotation.x=Math.PI/2,c.add(e),i=new X(16777215,k),i.position.set(50,50,50),c.add(i);const l=new Y(16777215,1);l.position.set(Z,q,J),c.add(l),e.add(i),e.scale.set(20,20,20)})}).catch(t=>{console.error("Error loading STL file:",t)});document.addEventListener("mousedown",t=>{x=!0,a.x=t.clientX,a.y=t.clientY});document.addEventListener("mouseup",()=>{x=!1});document.addEventListener("mousemove",t=>{if(x&&e){const n=t.clientX-a.x,o=t.clientY-a.y;r.x=o*.01,r.y=n*.01,a.x=t.clientX,a.y=t.clientY}});const K=new D(16777215,.2);c.add(K);s.position.set(0,0,100);const f={x:0,y:0,z:0},Q=5e-4,tt=75e-5;function et(){f.x=Math.sin(Date.now()*Q)*5,f.y=Math.sin(Date.now()*tt)*3,s.position.x=f.x,s.position.y=f.y,s.lookAt(0,0,0)}new z(s,d.domElement);const nt=.005,ot=.0075;function L(){requestAnimationFrame(L),e&&(e.rotation.x+=r.x+nt,e.rotation.y+=r.y+ot,r.x*=.95,r.y*=.95),et(),d.render(c,s)}L();const st=50,g=20,it=100,p=50,at=50,rt=50,ct=50,A=new U,E={scale:g,lightIntensity:p,lightX:at,lightY:rt,lightZ:ct};A.add(E,"scale",g,st).onChange(t=>{e&&e.scale.set(t,t,t)});A.add(E,"lightIntensity",p,it).onChange(t=>{i&&(i.intensity=t)});async function y(t,n){try{const o=await fetch(t);if(!o.ok)throw new Error(`Failed to load ${t}: ${o.statusText}`);const l=(await o.text()).split(`
`).map(I=>I.trim()===""?"<br>":`<div>${I}</div>`).join("");document.getElementById(n).innerHTML=l}catch(o){console.error(`Error loading text file: ${o}`)}}y("./assets/left-text.txt","left-text");y("./assets/right-text.txt","right-text");
